   #!/bin/bash -e
curl -vX POST -H "Content-Type: application/vnd.kafka.avro.v2+json" \
    -H "Accept: application/vnd.kafka.v2+json" \
    --url "http://kafka-01:8082/topics/health-metrics" \
    --data '{"value_schema":"{\"type\":\"record\",\"name\":\"HealthMetric\", \"namespace\": \"com.sts\", \"fields\":[{\"name\":\"product_id\",\"type\":\"string\"},{\"name\":\"product_instance_id\",\"type\":\"string\"},{\"name\":\"user_id\",\"type\":[\"null\",\"string\"],\"default\":null},{\"name\":\"sfdc_account_id\",\"type\":\"string\"},{\"name\":\"description\",\"type\":[\"null\",\"string\"]},{\"name\":\"metric_date\",\"type\":\"string\"},{\"name\":\"health\",\"type\":\"double\"},{\"name\":\"metrics\",\"type\":{\"type\":\"map\",\"values\":[\"string\",{\"type\":\"map\",\"values\":\"string\"}]}}]}","records":[{"value":{"product_id":"alm","product_instance_id":"55492","sfdc_account_id":"0013000000HQXnSAAX","description":{"string":"ALM Health Metrics - Unit Test - 2016-05-30"},"metric_date":"2016-05-30","health":1.5,"user_id":{"string":"abcde"},"metrics":{"daily_users":{"string":"666"},"weekly_users":{"string":"560"}}}}]}'

